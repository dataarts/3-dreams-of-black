<html>
	<head>
		<title>THREE TWO</title>
		<meta http-equiv="content-type" content="text/html; charset=ISO-8859-1">
		<style type="text/css">
			body {
				background:#fff;
				padding:0;
				margin:0;
				font-weight: bold;
				overflow:hidden;
			}
		</style>


		<!-- Signals -->

		<script type="text/javascript" src="js/signals/signals.js"></script>
		<script type="text/javascript" src="js/signals/Signal.js"></script>
		<script type="text/javascript" src="js/signals/SignalBinding.js"></script>


		<!-- THREE -->

		<script type="text/javascript" src="src/Three.js"></script>

		<script type="text/javascript" src="src/core/Vector2.js"></script>
		<script type="text/javascript" src="src/core/Vector3.js"></script>
		<script type="text/javascript" src="src/core/Vector4.js"></script>
		<script type="text/javascript" src="src/core/Quaternion.js"></script>
		<script type="text/javascript" src="src/core/Matrix3.js"></script>
		<script type="text/javascript" src="src/core/Matrix4.js"></script>
		<script type="text/javascript" src="src/core/Geometry.js"></script>
		<script type="text/javascript" src="src/core/Vertex.js"></script>
		<script type="text/javascript" src="src/core/Face3.js"></script>
		<script type="text/javascript" src="src/core/Face4.js"></script>
		<script type="text/javascript" src="src/core/Rectangle.js"></script>
		<script type="text/javascript" src="src/core/UV.js"></script>
		<script type="text/javascript" src="src/core/Color.js"></script>

		<script type="text/javascript" src="src/extras/io/Loader.js"></script>

		<script type="text/javascript" src="src/objects/Object3D.js"></script>
		<script type="text/javascript" src="src/objects/Mesh.js"></script>
		<script type="text/javascript" src="src/objects/Skin.js"></script>

		<script type="text/javascript" src="src/scenes/Scene.js"></script>

		<script type="text/javascript" src="src/cameras/Camera.js"></script>
		<script type="text/javascript" src="src/cameras/Frustum.js"></script>

		<script type="text/javascript" src="src/extras/primitives/Cube.js"></script>
		<script type="text/javascript" src="src/extras/primitives/Cylinder.js"></script>

		<script type="text/javascript" src="src/materials/Material.js"></script>
		<script type="text/javascript" src="src/materials/MeshLambertMaterial.js"></script>
		<script type="text/javascript" src="src/materials/MeshShaderMaterial.js"></script>
		<script type="text/javascript" src="src/materials/Material.js"></script>
		<script type="text/javascript" src="src/materials/LineBasicMaterial.js"></script>
		<script type="text/javascript" src="src/materials/MeshBasicMaterial.js"></script>
		<script type="text/javascript" src="src/materials/MeshPhongMaterial.js"></script>
		<script type="text/javascript" src="src/materials/MeshDepthMaterial.js"></script>
		<script type="text/javascript" src="src/materials/MeshNormalMaterial.js"></script>
		<script type="text/javascript" src="src/materials/MeshFaceMaterial.js"></script>
		<script type="text/javascript" src="src/materials/MeshShaderMaterial.js"></script>
		<script type="text/javascript" src="src/materials/ParticleBasicMaterial.js"></script>
		<script type="text/javascript" src="src/materials/ParticleCircleMaterial.js"></script>
		<script type="text/javascript" src="src/materials/ParticleDOMMaterial.js"></script>
		<script type="text/javascript" src="src/materials/Texture.js"></script>
		<script type="text/javascript" src="src/materials/RenderTarget.js"></script>
		<script type="text/javascript" src="src/materials/Uniforms.js"></script>
		<script type="text/javascript" src="src/materials/mappings/CubeReflectionMapping.js"></script>
		<script type="text/javascript" src="src/materials/mappings/CubeRefractionMapping.js"></script>
		<script type="text/javascript" src="src/materials/mappings/LatitudeReflectionMapping.js"></script>
		<script type="text/javascript" src="src/materials/mappings/LatitudeRefractionMapping.js"></script>
		<script type="text/javascript" src="src/materials/mappings/SphericalReflectionMapping.js"></script>
		<script type="text/javascript" src="src/materials/mappings/SphericalRefractionMapping.js"></script>
		<script type="text/javascript" src="src/materials/mappings/UVMapping.js"></script>

		<script type="text/javascript" src="src/renderers/WebGL/WebGLRenderer.js"></script>
		<script type="text/javascript" src="src/renderers/WebGL/WebGLRendererScene.js"></script>

		<script type="text/javascript" src="src/renderers/WebGL/webGLBatch/WebGLBatch.js"></script>
		<script type="text/javascript" src="src/renderers/WebGL/webGLBatch/WebGLBatchProgram.js"></script>
		<script type="text/javascript" src="src/renderers/WebGL/webGLBatch/WebGLBatchAttributes.js"></script>
		<script type="text/javascript" src="src/renderers/WebGL/webGLBatch/WebGLBatchUniforms.js"></script>
		<script type="text/javascript" src="src/renderers/WebGL/webGLBatch/WebGLBatchCompiler.js"></script>
		<script type="text/javascript" src="src/renderers/WebGL/webGLBatch/WebGLBatchCompilerMaterials.js"></script>
		<script type="text/javascript" src="src/renderers/WebGL/webGLBatch/WebGLShaderDefinitions.js"></script>
		<script type="text/javascript" src="src/renderers/WebGL/webGLBatch/shaders/Skin.js"></script>
		<script type="text/javascript" src="src/renderers/WebGL/webGLBatch/shaders/Texture.js"></script>
		<script type="text/javascript" src="src/renderers/WebGL/webGLBatch/shaders/Lambert.js"></script>
	
		<script type="text/javascript" src="src/animation/Animation.js"></script>
		<script type="text/javascript" src="src/animation/AnimationTestData.js"></script>
	
		<!-- Experience Code -->
	
		<script type="text/javascript">

			var Experience = function()
			{
				var renderer;
				var scene;
				var mesh, mesh2;
				var skin;
				var bone0, bone1, bone2;
				var camera;
				var rotationMatrix;
				var time = 0;
				var container;
				var animation;
				
				//--- Init ---
				
				var Init = function( buffalo )
				{
					// START HACK!
					
					var weights = [0.5,0.4986,0.8618,0.1382,0.8166,0.1834,0.9902,0.0098,0.9707,0.0293,1,0,0.375,0.375,0.7108,0.2892,0.8192,0.1808,0.6398,0.3602,0.65,0.175,0.45,0.275,0.9073,0.0927,0.9814,0.0186,0.9988,0.0012,0.7,0.15,0.6455,0.3545,1,0,0.9869,0.0131,0.8662,0.1338,0.5372,0.4628,0.5411,0.4589,0.7112,0.2888,0.6114,0.3886,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,0.6,0.4,0.6,0.4,0.5525,0.4475,0.75,0.25,0.75,0.25,0.6517,0.3483,0.6425,0.3379,0.6,0.4,0.4506,0.4506,1,0,1,0,1,0,1,0,1,0,0.5,0.5,0.5,0.5,0.5,0.5,0.5,0.5,1,0,1,0,0.5,0.5,0.5,0.5,1,0,1,0,0.5,0.5,0.5,0.5,0.5,0.5,0.75,0.25,0.664,0.336,1,0,0.5,0.5,1,0,1,0,0.8038,0.1962,1,0,1,0,0.5,0.5,1,0,0.6667,0.3333,1,0,1,0,1,0,0.7475,0.1955,0.4477,0.3828,0.4866,0.433,0.6412,0.3194,0.5,0.5,1,0,1,0,0.5,0.5,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,0.5,0.5,1,0,1,0,0.95,0.025,1,0,0.5,0.5,1,0,1,0,1,0,1,0,1,0,1,0,1,0,0.5,0.5,1,0,1,0,1,0,0.65,0.175,0.7,0.15,0.664,0.336,0.6517,0.3483,0.6398,0.3602,0.5372,0.4628,0.4477,0.3828,0.7112,0.2888,0.6114,0.3886,0.8192,0.1808,0.5525,0.4475,0.6455,0.3545,1,0,0.45,0.275,0.9814,0.0186,0.9988,0.0012,0.9869,0.0131,0.8662,0.1338,0.7108,0.2892,0.8618,0.1382,0.5411,0.4589,1,0,0.9073,0.0927,0.4866,0.433,0.8038,0.1962,0.9902,0.0098,0.5,0.5,0.5,0.4986,0.4506,0.4506,0.6425,0.3379,0.8166,0.1834,0.9707,0.0293,0.5,0.5,0.375,0.375,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,0.6,0.4,0.6,0.4,0.75,0.25,0.75,0.25,0.6,0.4,1,0,1,0,1,0,1,0,1,0,0.5,0.5,0.5,0.5,0.5,0.5,0.5,0.5,0.5,0.5,0.5,0.5,1,0,1,0,0.5,0.5,0.5,0.5,1,0,1,0,1,0,1,0,0.75,0.25,0.5,0.5,1,0,1,0,0.6412,0.3194,1,0,1,0,0.5,0.5,0.5,0.5,1,0,1,0,0.5,0.5,0.5,0.5,0.6667,0.3333,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,0.7475,0.1955,0.5,0.5,1,0,1,0,1,0,1,0,1,0,0.95,0.025,1,0,1,0,1,0,1,0,1,0,1,0,1,0,0.5,0.2979,0.5,0.2979,1,0,1,0,1,0,1,0,0.9878,0.0122,0.5,0.4996,0.9465,0.0535,0.9992,0.0008,0.6843,0.3157,0.938,0.062,0.7741,0.2259,1,0,1,0,1,0,1,0,1,0,1,0,1,0,0.5,0.5,1,0,0.9752,0.0248,0.6744,0.3256,0.8867,0.1133,0.5,0.5,0.9519,0.0481,0.7218,0.2782,0.5,0.5,1,0,1,0,1,0,1,0,1,0,1,0,0.5,0.2801,0.5,0.2917,1,0,1,0,1,0,1,0,1,0,0.6744,0.3256,0.7741,0.2259,0.938,0.062,1,0,1,0,1,0,0.7458,0.254,0.7368,0.2632,0.7061,0.2939,0.9519,0.0481,1,0,1,0,1,0,0.7412,0.2588,0.8359,0.1641,0.8374,0.1625,0.8681,0.1319,0.903,0.097,0.7268,0.2732,0.6656,0.3344,0.9717,0.0283,0.9843,0.0157,0.8942,0.1058,0.7295,0.2705,0.676,0.324,1,0,1,0,1,0,1,0,0.8814,0.1186,1,0,1,0,1,0,0.883,0.117,0.7832,0.2168,1,0,0.918,0.082,0.5054,0.4946,0.6339,0.3661,0.5543,0.3274,0.879,0.121,0.5593,0.3241,0.7467,0.2533,0.6236,0.3764,0.9171,0.0829,0.7572,0.2428,0.9271,0.0729,0.6103,0.3897,0.7712,0.2288,0.7426,0.2225,1,0,0.7444,0.2203,0.9256,0.0744,0.7742,0.2258,0.6154,0.3846,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,0.9712,0.0288,0.8516,0.1484,0.8443,0.1557,0.7409,0.2591,0.757,0.243,0.7938,0.1173,0.824,0.0914,0.5284,0.4679,0.9697,0.0303,0.7317,0.2683,0.7532,0.2468,0.7872,0.2126,0.5682,0.2365,1,0,0.8804,0.0608,0.9459,0.0326,0.9344,0.0482,0.8597,0.0877,0.6304,0.3696,0.7546,0.2454,0.6071,0.3929,0.6597,0.3403,0.789,0.1915,0.675,0.325,0.8679,0.1321,0.8829,0.1171,0.8126,0.1874,0.7233,0.2767,0.9025,0.0975,0.9494,0.0506,0.6255,0.2377,0.6173,0.2238,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,0.8751,0.1249,0.9039,0.0961,0.7532,0.2468,0.7317,0.2683,1,0,0.9242,0.0758,0.9174,0.0826,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,0.7911,0.2089,0.9049,0.0951,0.5,0.4996,0.5,0.4986,1,0,0.5,0.5,0.5,0.5,1,0,1,0,1,0,1,0,0.5,0.5,1,0,0.5,0.5,0.5,0.5,1,0,1,0,1,0,1,0,1,0,0.375,0.375,0.5,0.5,0.5,0.4986,1,0,0.5,0.5,0.5,0.5,1,0,1,0,1,0,1,0,1,0,0.5,0.5,1,0,1,0,1,0,1,0,1,0,0.375,0.375,0.8192,0.1808,0.6455,0.3545,0.45,0.275,0.45,0.275,0.4866,0.433,0.9878,0.0122,0.5,0.5,0.5,0.4996,1,0,0.9752,0.0248,0.6744,0.3256,0.6425,0.3379,0.8867,0.1133,0.8166,0.1834,0.6744,0.3256,0.5,0.5,0.4506,0.4506,0.9992,0.0008,0.9519,0.0481,0.7218,0.2782,0.4866,0.433,0.4477,0.3828,0.5,0.4996,0.9878,0.0122,0.8038,0.1962,0.45,0.275,0.4477,0.3828,1,0,0.45,0.275,0.8192,0.1808,0.9073,0.0927,0.45,0.275,0.8192,0.1808,0.9073,0.0927,0.8166,0.1834,0.375,0.375,1,0,0.8038,0.1962,0.5,0.5,0.5525,0.4475,0.7108,0.2892,0.664,0.336,0.7108,0.2892,0.7108,0.2892,0.6425,0.3379,0.7108,0.2892,0.9519,0.0481,0.5,0.5,1,0,1,0,1,0,1,0,0.5,0.5,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,0.5,0.5,0.5,0.5,1,0,1,0,1,0,1,0,1,0,1,0,1,0,0.5,0.5,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,0.4506,0.4506,0.4506,0.4506,0.6,0.4,0.5,0.5,0.5525,0.4475,0.6517,0.3483,0.4506,0.4506,0.6425,0.3379,0.4506,0.4506,0.6,0.4,0.6,0.4,1,0,0.5,0.5,0.5,0.5,1,0,0.5,0.5,0.5,0.5,1,0,1,0,0.5,0.5,0.6,0.4,0.664,0.336,0.664,0.336,0.6425,0.3379,0.5,0.5,1,0,0.5,0.5,0.5,0.5,0.5,0.5,0.5,0.5,0.5,0.5,0.5,0.5,0.5,0.5,0.5,0.5,0.664,0.336,0.5,0.5,0.5,0.5,1,0,1,0,0.5,0.5,1,0,0.5,0.5,1,0,0.6,0.4,0.6,0.4,0.5525,0.4475,0.5,0.5,1,0,0.6,0.4,0.5,0.5,0.5,0.5,0.5,0.5,0.5,0.5,0.5,0.5,1,0,1,0,0.5,0.5,0.4866,0.433,0.8038,0.1962,1,0,0.6667,0.3333,0.6667,0.3333,1,0,1,0,1,0,1,0,0.6412,0.3194,0.4477,0.3828,0.4477,0.3828,0.5,0.5,1,0,0.5,0.5,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,0.6667,0.3333,0.5,0.5,1,0,1,0,0.7475,0.1955,0.7475,0.1955,1,0,0.4477,0.3828,1,0,0.5,0.5,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,0.8038,0.1962,1,0,1,0,0.6412,0.3194,1,0,1,0,0.5,0.5,0.5,0.5,0.5,0.5,1,0,1,0,1,0,0.6667,0.3333,0.6667,0.3333,1,0,1,0,1,0,1,0,1,0,0.6455,0.3545,1,0,0.5,0.5,1,0,0.5,0.5,0.375,0.375,0.8192,0.1808,0.6455,0.3545,0.45,0.275,0.45,0.275,0.9878,0.0122,0.6843,0.3157,0.9878,0.0122,0.4866,0.433,0.5,0.5,0.9992,0.0008,0.5,0.5,0.5,0.4996,1,0,0.5,0.4996,1,0,0.9752,0.0248,0.9465,0.0535,0.9752,0.0248,0.6744,0.3256,0.7741,0.2259,0.6744,0.3256,0.6425,0.3379,0.8867,0.1133,0.8867,0.1133,0.938,0.062,0.8166,0.1834,0.6744,0.3256,0.5,0.5,0.4506,0.4506,0.5,0.5,0.9519,0.0481,0.9992,0.0008,0.9519,0.0481,0.7218,0.2782,0.4866,0.433,0.7218,0.2782,0.4477,0.3828,0.5,0.4996,0.5,0.4996,0.9878,0.0122,0.5,0.5,0.8038,0.1962,0.45,0.275,0.4477,0.3828,0.8192,0.1808,0.45,0.275,1,0,0.9073,0.0927,0.8192,0.1808,0.8166,0.1834,0.9073,0.0927,0.45,0.275,0.375,0.375,1,0,0.8038,0.1962,0.5,0.5,0.5525,0.4475,0.7108,0.2892,0.664,0.336,0.7108,0.2892,0.6425,0.3379,0.7108,0.2892,0.7108,0.2892,0.9519,0.0481,1,0,1,0,0.5,0.5,1,0,1,0,1,0,1,0,0.5,0.5,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,0.5,0.5,1,0,1,0,0.5,0.5,0.5,0.5,1,0,1,0,1,0,1,0,1,0,1,0,0.5,0.5,0.5,0.5,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,0.4506,0.4506,0.5,0.5,0.4506,0.4506,0.6,0.4,0.5525,0.4475,0.6517,0.3483,0.4506,0.4506,0.6,0.4,0.4506,0.4506,0.6425,0.3379,0.6,0.4,1,0,0.5,0.5,0.5,0.5,0.5,0.5,1,0,0.5,0.5,1,0,0.5,0.5,1,0,0.6,0.4,0.664,0.336,0.6425,0.3379,0.664,0.336,0.5,0.5,1,0,0.5,0.5,0.5,0.5,0.5,0.5,0.5,0.5,0.5,0.5,0.5,0.5,0.5,0.5,0.5,0.5,0.664,0.336,0.5,0.5,0.5,0.5,1,0,0.5,0.5,1,0,1,0,0.5,0.5,1,0,0.5525,0.4475,0.6,0.4,0.5,0.5,0.6,0.4,1,0,0.6,0.4,0.5,0.5,0.5,0.5,0.5,0.5,0.5,0.5,0.5,0.5,1,0,0.5,0.5,1,0,0.8038,0.1962,0.4866,0.433,1,0,1,0,0.6667,0.3333,0.6667,0.3333,1,0,1,0,1,0,1,0,0.6412,0.3194,0.4477,0.3828,0.4477,0.3828,0.4866,0.433,0.5,0.5,0.5,0.5,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,0.6667,0.3333,1,0,1,0,0.5,0.5,1,0,1,0,0.7475,0.1955,0.4477,0.3828,0.7475,0.1955,1,0,1,0,0.5,0.5,1,0,1,0,0.5,0.5,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,0.8038,0.1962,0.8038,0.1962,0.6412,0.3194,1,0,0.5,0.5,1,0,0.5,0.5,1,0,0.5,0.5,0.5,0.5,0.5,0.5,1,0,1,0,0.6667,0.3333,0.6667,0.3333,1,0,1,0,1,0,1,0,1,0,1,0,0.5,0.5,0.6455,0.3545,1,0,1,0,0.375,0.375,1,0,1,0,0.5,0.2979,1,0,0.5,0.2801,0.5,0.2979,1,0,1,0,0.5,0.2979,1,0,0.5,0.2917,1,0,1,0,0.5,0.2979,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,0.7368,0.2632,0.8359,0.1641,0.7412,0.2588,0.8443,0.1557,0.7233,0.2767,0.8126,0.1874];
					var indices = [2,0,1,0,0,1,1,0,0,1,3,0,2,0,1,0,0,1,1,5,4,1,4,1,0,1,0,1,0,1,4,1,1,5,1,0,1,0,1,0,1,5,1,0,1,0,0,1,3,0,3,0,3,0,3,0,3,0,3,0,3,0,3,0,3,0,3,0,3,0,3,0,3,0,3,0,3,0,3,0,3,0,3,0,3,0,3,0,3,0,3,0,3,0,3,0,3,0,3,0,3,0,3,0,3,0,3,0,6,0,6,0,5,7,5,7,5,1,5,7,5,7,5,1,1,5,5,7,5,1,7,0,7,0,7,0,7,0,7,0,7,6,7,6,7,6,7,6,6,0,6,0,7,6,7,6,6,0,6,0,3,1,7,6,7,6,5,7,5,1,7,0,7,6,6,0,4,0,0,4,4,0,4,0,8,4,9,0,9,8,9,0,9,0,9,0,4,0,0,4,4,0,4,0,8,4,4,0,4,0,4,8,9,0,8,0,8,0,9,0,9,0,9,0,9,0,9,0,9,0,9,0,9,0,8,4,4,0,4,0,4,1,4,0,8,4,9,0,9,0,8,0,8,0,8,0,8,0,8,0,3,1,2,0,10,0,10,0,10,1,10,1,11,1,11,1,1,11,1,11,0,10,1,0,0,1,0,1,11,1,1,11,10,0,10,1,0,1,0,1,1,0,1,0,1,0,1,0,1,0,1,0,0,1,10,0,0,10,1,0,3,1,2,0,11,1,1,11,0,1,0,1,3,1,2,0,3,0,3,0,3,0,3,0,3,0,3,0,3,0,3,0,3,0,3,0,3,0,3,0,3,0,3,0,3,0,3,0,3,0,3,0,3,0,3,0,3,0,3,0,3,0,3,0,3,0,3,0,3,0,3,0,3,0,3,0,3,0,11,12,11,12,11,12,11,12,11,12,12,0,12,0,12,0,12,0,12,0,12,13,13,12,13,12,13,12,13,12,13,12,13,0,13,0,13,12,13,12,13,0,13,0,13,0,13,0,11,12,13,12,12,0,13,0,10,0,10,0,10,0,14,10,14,10,10,0,10,0,10,14,14,10,15,14,14,0,15,0,15,0,15,0,15,0,15,0,15,0,15,0,15,0,15,0,15,0,15,0,10,0,14,10,10,0,15,0,14,0,15,0,15,0,10,1,15,0,14,0,14,0,14,0,14,0,14,0,2,0,2,16,2,16,16,0,16,0,16,0,16,0,0,10,2,0,1,11,1,0,0,10,0,1,1,0,3,0,3,0,3,0,3,0,3,0,3,0,3,0,3,1,2,0,1,11,0,1,1,0,3,1,1,0,0,1,2,0,3,0,3,0,3,0,3,0,3,0,2,0,2,16,2,16,16,0,16,0,16,0,16,0,16,0,0,1,1,0,0,1,3,0,3,0,3,0,3,1,3,1,2,0,1,0,3,0,3,0,3,0,3,1,3,1,2,0,1,12,1,0,0,1,0,1,1,12,1,0,0,1,1,0,1,0,3,0,3,0,3,0,3,0,3,1,3,0,3,0,3,0,3,1,3,1,2,0,9,8,4,8,4,8,4,0,8,4,10,0,10,14,10,14,15,14,14,10,9,8,4,8,4,8,4,0,8,0,10,0,15,14,10,14,10,14,14,0,16,0,16,0,16,0,16,0,16,0,16,0,16,0,16,0,16,0,16,0,3,0,3,0,3,1,3,1,3,1,0,1,1,0,1,12,1,12,1,3,1,0,3,1,3,1,2,0,2,0,2,0,1,12,1,12,1,12,1,12,0,1,0,1,1,0,1,0,1,0,1,0,0,1,0,1,3,1,3,1,1,0,1,0,0,1,0,1,3,0,3,0,3,0,3,0,3,0,3,0,3,0,3,0,3,0,3,0,3,1,3,1,3,1,3,1,3,0,3,1,3,1,3,0,16,0,16,0,16,0,16,0,16,0,16,0,16,0,16,0,16,0,16,0,3,0,3,0,3,1,3,1,2,0,2,0,3,0,3,1,3,1,3,0,3,0,3,0,3,0,3,1,3,0,3,1,3,1,3,0,3,0,3,0,3,0,3,0,2,0,2,0,2,0,3,0,3,1,3,1,3,0,3,0,3,0,3,0,3,0,3,1,3,0,3,0,3,0,3,0,3,0,2,0,0,1,1,5,4,1,4,1,4,0,0,10,3,1,2,0,2,0,1,11,0,1,1,5,1,0,0,1,0,1,3,1,5,1,1,0,1,0,0,1,4,0,0,4,2,0,0,10,0,4,4,1,0,4,4,0,4,1,0,1,0,1,4,1,0,1,0,1,0,1,2,0,4,0,0,4,3,1,5,1,1,0,5,1,1,0,1,0,1,5,1,0,1,0,3,1,3,0,3,0,3,0,3,0,3,1,3,0,3,0,3,0,3,0,3,0,3,0,3,0,3,0,3,0,3,0,3,0,3,0,3,0,3,0,3,0,3,0,3,0,3,1,3,1,3,0,3,0,3,0,3,0,3,0,3,0,3,0,3,1,3,0,3,0,3,0,3,0,3,0,3,0,3,0,3,0,3,0,3,0,3,0,3,0,3,0,3,0,3,0,3,0,3,0,3,0,3,0,3,0,3,0,3,0,3,0,3,0,3,0,3,0,3,0,3,0,3,0,3,0,3,0,3,0,3,0,3,0,3,0,5,1,5,1,5,7,3,1,5,1,5,1,5,1,1,5,5,1,5,7,5,7,7,0,7,6,7,6,6,0,7,6,7,6,6,0,6,0,7,6,5,7,5,1,5,1,1,5,7,6,7,0,7,6,7,6,7,6,7,6,7,6,7,6,7,6,7,6,5,1,7,6,7,6,6,0,6,0,7,6,6,0,7,6,6,0,5,7,5,7,5,1,3,1,7,0,5,7,7,6,7,6,7,6,7,6,7,6,6,0,6,0,7,6,4,0,0,4,9,0,9,8,9,8,9,0,9,0,9,0,9,0,4,0,0,4,0,4,4,8,4,0,4,8,9,0,8,0,9,0,9,0,9,0,9,0,9,0,9,0,9,0,9,0,9,0,9,0,9,0,9,0,9,0,9,8,8,4,4,0,4,0,4,0,4,0,4,0,0,4,4,0,8,4,4,0,9,0,9,0,8,0,9,0,9,0,9,0,9,0,9,0,9,0,9,0,9,0,9,0,9,0,9,0,4,0,4,0,4,0,4,0,4,0,0,4,4,0,4,0,4,0,4,0,8,0,4,8,8,4,4,8,8,0,8,0,8,0,9,8,9,8,8,0,9,0,8,0,8,0,8,0,1,5,3,0,3,1,2,0,2,0,2,0,0,1,1,11,10,1,10,1,0,10,0,10,0,10,10,0,3,1,1,0,3,1,2,0,2,0,2,0,2,0,1,11,1,11,1,11,0,1,1,0,0,1,1,11,1,0,1,0,0,1,0,1,0,1,3,1,11,1,3,1,1,0,1,0,1,0,0,1,10,0,0,1,0,10,2,0,2,0,0,10,2,0,0,10,10,1,0,10,0,1,10,1,10,0,0,1,0,1,0,1,0,1,10,1,2,0,10,0,0,10,3,1,11,1,1,0,11,1,1,0,1,11,1,0,1,0,1,0,3,0,3,0,3,1,3,0,3,0,3,0,3,0,3,1,3,0,3,0,3,0,3,0,3,0,3,0,3,0,3,0,3,0,3,0,3,0,3,0,3,0,3,0,3,0,3,0,3,0,3,0,3,0,3,0,3,0,3,0,3,0,3,0,3,0,3,0,3,1,3,0,3,0,3,1,3,1,3,0,3,0,3,0,3,0,3,0,3,0,3,1,3,1,3,0,3,0,3,0,3,0,3,0,3,0,3,0,3,0,3,0,3,0,3,0,3,0,3,0,3,0,3,0,3,0,3,0,3,0,3,0,3,0,3,0,3,0,3,0,3,0,3,0,3,0,3,0,3,0,3,0,3,0,3,0,3,0,3,0,3,0,3,0,11,1,3,1,11,1,11,12,11,1,11,1,11,1,11,12,11,1,1,11,11,12,12,0,13,12,13,12,13,12,13,0,13,12,13,0,13,12,13,0,11,12,11,1,1,11,11,1,13,12,12,0,13,12,13,12,13,12,13,12,12,13,13,12,13,12,13,12,11,1,13,12,13,12,13,0,13,12,13,0,13,0,13,12,13,0,11,1,11,12,3,1,11,12,12,0,11,12,12,13,13,12,13,12,12,13,13,12,13,0,13,12,13,0,0,10,10,0,10,0,15,0,15,14,15,14,15,0,15,0,15,0,15,0,10,0,0,10,0,10,10,0,10,14,10,14,10,0,15,0,14,0,15,0,15,0,15,0,15,0,15,0,15,0,15,0,15,0,15,0,15,0,15,0,15,14,15,0,15,0,14,10,10,0,10,0,10,0,0,10,10,0,10,0,10,0,14,10,10,0,10,0,14,10,15,0,14,0,15,0,15,0,15,0,15,0,15,0,15,0,15,0,15,0,15,0,15,0,15,0,15,0,10,0,10,0,10,0,10,0,10,0,10,0,10,0,0,10,0,10,10,0,10,0,14,10,14,0,10,14,14,0,10,14,14,10,14,10,14,0,14,0,15,14,15,14,14,0,14,0,15,0,14,0,14,0,3,0,3,1,1,11,2,0,2,0,2,0,2,0,2,0,2,16,2,0,2,16,2,16,2,0,2,0,2,16,2,0,2,16,2,0,2,0,2,16,16,0,16,0,16,0,16,0,16,0,16,0,16,0,16,0,16,0,16,0,16,0,16,0,16,0,16,0,16,0,16,0,16,0,16,0,16,0,3,1,3,1,3,1,3,1,3,1,3,1];

					buffalo.skinWeights = [];
					buffalo.skinIndices = [];
					
					for( var i = 0; i < weights.length; i += 2 ) {
					
						buffalo.skinWeights.push( new THREE.Vector4( weights[ i + 0 ], weights[ i + 1 ], 0, 0 ));
						buffalo.skinIndices.push( new THREE.Vector4( indices[ i + 0 ], indices[ i + 1 ], 0, 0 ));
					}
					
					
					buffalo.bones = [
		{	// Id: 0
			parent: -1, 
			pos: [0.0423,0.8688,-0.5277],
			rot: [0,90,347.2545],
			rotq: [0.0785,-0.7027,0.0785,-0.7027]
		},
		
		{	// Id: 1
			parent: 0, 
			pos: [-0.0453,-0.0787,-0.053],
			rot: [0,0,136.0603],
			rotq: [0,0,0.9274,0.3741]
		},
		
		{	// Id: 2
			parent: 1, 
			pos: [-0.075,0,0],
			rot: [0,0,325.9034],
			rotq: [0,0,-0.2932,0.9561]
		},
		
		{	// Id: 3
			parent: 2, 
			pos: [-0.0552,0,0],
			rot: [355.6526,356.0005,16.9518],
			rotq: [-0.0426,-0.0289,0.1459,0.988]
		},
		
		{	// Id: 4
			parent: 0, 
			pos: [-0.1568,0,0],
			rot: [0,0,354.8689],
			rotq: [0,0,-0.0448,0.999]
		},
		
		{	// Id: 5
			parent: 4, 
			pos: [-0.1862,0,0],
			rot: [0,0,61.3455],
			rotq: [0,0,0.5101,0.8601]
		},
		
		{	// Id: 6
			parent: 4, 
			pos: [-0.1146,-0.0845,0.0406],
			rot: [0,0,55.2423],
			rotq: [0,0,0.4636,0.886]
		},
		
		{	// Id: 7
			parent: 6, 
			pos: [-0.0613,0,0],
			rot: [0,0,353.6044],
			rotq: [0,0,-0.0558,0.9984]
		},
		
		{	// Id: 8
			parent: 7, 
			pos: [-0.0632,0,0],
			rot: [357.4611,359.2721,63.9545],
			rotq: [-0.0222,0.0063,0.5293,0.8481]
		},
		
		{	// Id: 9
			parent: 4, 
			pos: [-0.1146,-0.0845,-0.0687],
			rot: [0,0,53.3663],
			rotq: [0,0,0.4491,0.8935]
		},
		
		{	// Id: 10
			parent: 9, 
			pos: [-0.0613,0,0],
			rot: [0,0,330.3001],
			rotq: [0,0,-0.2563,0.9666]
		},
		
		{	// Id: 11
			parent: 10, 
			pos: [-0.0632,0,0],
			rot: [357.4611,359.272,63.9545],
			rotq: [-0.0222,0.0063,0.5293,0.8481]
		},
		
		{	// Id: 12
			parent: 0, 
			pos: [-0.0453,-0.0787,0.0275],
			rot: [0,0,155.5824],
			rotq: [0,0,0.9774,0.2115]
		},
		
		{	// Id: 13
			parent: 12, 
			pos: [-0.075,0,0],
			rot: [0,0,306.208],
			rotq: [0,0,-0.4524,0.8918]
		},
		
		{	// Id: 14
			parent: 13, 
			pos: [-0.0552,0,0],
			rot: [-0.0001,0,17.4236],
			rotq: [0,0,0.1515,0.9885]
		},
		
		{	// Id: 15
			parent: 0, 
			pos: [-0.0019,0.0053,0],
			rot: [0,0,235.4821],
			rotq: [0,0,-0.8851,0.4655]
		},
		
		{	// Id: 16
			parent: 15, 
			pos: [-0.0273,0,0],
			rot: [0,0,301.2454],
			rotq: [0,0,-0.4906,0.8714]
		},
		
	];

					// HACK
					
					scene  = new THREE.Scene();
					skin   = new THREE.Skin( buffalo, buffalo.materials );
					camera = new THREE.Camera();

					skin.position.z = -3;
					skin.position.y = 0.5;
					skin.rotation.x = -90;
					//skin.rotation.z = -90;

					scene.addChild( skin );
					scene.addChild( camera );

					animation = new THREE.Animation( skin, buffaloRun );
					animation.play();


					// renderer

					renderer = new THREE.WebGLRenderer();
					renderer.setSize( window.innerWidth, window.innerHeight );

					var container = document.createElement( "div" );
					document.body.appendChild( container );
					container.appendChild( renderer.domElement );
					

					// start rendering

				    setInterval( Update, 1000/60 );
				}


				var load = function() {

					var loader = new THREE.Loader();
					loader.loadAscii( { model: "assets/buffalo_bone.js", callback: Init } );
				}
				
				
				//--- Update ---
				
				var Update = function()
				{
//					animation.update();			
					
/*					for( var i = 0; i < skin.bones.length; i++ ) {
						
						skin.bones[ i ].rotation.x += 0.1;
					} 
	*/				
					skin.bones[ 11 ].rotation.x = -Math.sin( time ) * 90;
	
					time += 0.01;
					
					renderer.render( scene, camera );
				}
				
				
				//--- public ---
				
				return {
					
					load: load
				}
			}();
		
		</script>
	</head>
	<body onload="Experience.load();">
	</body>
</html>
